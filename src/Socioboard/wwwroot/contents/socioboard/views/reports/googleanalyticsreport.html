<style>
    .btn-small {
        padding: 3px 9px;
        font-size: 16px;
        line-height: 2;
        font-weight: 600;
    }
</style>

<div data-ng-controller="GoogleAnalyticreportController">

    <div class="row" ng-if="fetchdatacomplete==true">

        <div class="col s12 m12 l12">
            <div class="card" id="feeds">
                <h5 class="feeds_title red darken-2 white-text" style="padding: 0 !important;">
                    <div class="row" style="margin-bottom: 0;">
                        <div class="col m6" style="margin-top: 13px;">
                            <i class="fa fa-line-chart fa-fw" aria-hidden="true"></i> <span>&nbsp;Stats</span>
                        </div>
                        <div class="col m4">
                            <div class="input-field" style="margin-top: 0;">
                                <select ng-model="selectedProfile" ng-change="getReports(selectedProfile, 90)">
                                    <option ng-repeat="profile in lstProfiles | filter:{profileType:10}" my-repeat-tab-directive value="{{profile.profileId}}">
                                        {{profile.profileName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col m2" style="margin-top: 10px">
                            <button class="btn btn-small  red white-text" ng-click="reConnectGoogleAnalytics()">
                                Reconnect
                            </button>
                        </div>
                    </div>
                </h5>
                <div class="collection no-space">
                    <div class="row no-space">
                        <div class="col s12 no-space">
                            <div class="row no-space">
                                <div class="col m12">
                                    <dl class="col s4">
                                        <div class="card grey lighten-3">
                                            <div class="card-content">
                                                <dt><b>Email</b></dt>
                                                <dd style="margin-left: 0;">{{selectProfileEmail}}</dd>
                                            </div>
                                        </div>
                                    </dl>

                                    <dl class="col s4">
                                        <div class="card grey lighten-3">
                                            <div class="card-content">
                                                <dt><b>Website Link</b></dt>
                                                <dd style="margin-left: 0;">{{selectedWebsite}}</dd>
                                            </div>
                                        </div>

                                    </dl>
                                    <dl class="col s4">
                                        <div class="card grey lighten-3">
                                            <div class="card-content">
                                                <dt><b>Account Name</b></dt>
                                                <dd style="margin-left: 0;">{{selectedAccountName}}</dd>
                                            </div>
                                        </div>
                                    </dl>
                                </div>
                                <div class="col m12">
                                    <div class="row">
                                        <div class="col s12 m4 l4">
                                            <div class="card red accent-2">
                                                <div class="card-content center">
                                                    <h4 class="card-stats-number white-text text-darken-3">{{activeUser}}</h4>
                                                    <p class="card-stats-title white-text">Active Users</p>
                                                </div>
                                            </div>


                                            <div ng-if="refreshIndicator==true" class="center">
                                                <button class="btn btn-small  red white-text" ng-click="getActiveUserFromApi(selectedProfile)">
                                                    refresh
                                                </button>
                                            </div>
                                            <div ng-if="refreshIndicator!=true" class="center">
                                                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                                            </div>

                                        </div>

                                        <div class="col s12 m4 l4">

                                            <div class="card red accent-2">
                                                <div class="card-content center">
                                                    <h4 class="card-stats-number white-text text-darken-3">{{views}}</h4>
                                                    <p class="card-stats-title white-text">Website Traffic</p>
                                                </div>
                                            </div>
                                            <div class="row no-space white">
                                                <div class="col s12">
                                                    <div class="input-field">
                                                        <input id="days" type="number">
                                                        <label for="days"> days</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col s12 m4 l4">
                                            <div class="card red accent-2">
                                                <div class="card-content center">
                                                    <h4 class="card-stats-number white-text text-darken-3">{{userSession}}</h4>
                                                    <p class="card-stats-title  white-text">User Session</p>
                                                </div>
                                            </div>
                                            <div class="row no-space white">
                                                <div class="col s12 center">
                                                    <div ng-if="sessionIndicator==true">
                                                        <button class="btn btn-small red white-text" ng-click="getViewsAndSessionUserFromApi(selectedProfile)">Submit</button>
                                                    </div>
                                                    <div ng-if="sessionIndicator!=true" class="center">
                                                        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--<div class="col s12 m6 l3">
                                            <div class="card red accent-2">
                                                <div class="card-content center">
                                                    <h4 class="card-stats-number white-text text-darken-3">{{twitterMention}}</h4>
                                                    <p class="card-stats-title white-text">Tags, Articles & Blog</p>
                                                </div>
                                            </div>
                                        </div>-->
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col l12 s12 m12 hide">
                            <div id="googleanalyticgraph" style="height: 250px;"></div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col s12 m12 l12">
                <div class="card" id="feeds">
                    <h5 class="feeds_title red darken-2 white-text">
                        Traffic Details
                    </h5>
                    <div class="row">
                        <div class="col m12">
                            <div style="max-height: 500px; overflow-y: scroll;">
                                <table class="highlight">
                                    <thead>
                                        <tr>
                                            <th>Device Category</th>
                                            <th>Page Path</th>
                                            <th>Country</th>
                                            <th>Traffic Type</th>
                                            <th>Count</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="activeUserDetail in activeUserDetails">
                                            <td>{{activeUserDetail.deviceName}}</td>
                                            <td>{{activeUserDetail.path}}</td>
                                            <td>{{activeUserDetail.country}}</td>
                                            <td>{{activeUserDetail.trafficType}}</td>
                                            <td>{{activeUserDetail.count}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s12 m12 l12 hide">
                <div class="card" id="feeds">
                    <h5 class="feeds_title red darken-2 white-text">
                        <div class="row" style="margin-bottom: 0;">
                            <div class="col m4">
                                <i class="fa fa-line-chart fa-fw" aria-hidden="true"></i> <span>&nbsp;Social Report</span>
                            </div>
                            <div class="col m8">
                                <div class="pull-right" ng-if="user.TrailStatus!=2">
                                    <a ng-click="getData(selectedProfile,15)" class="btn btn-small white red-text" title="Last 15 days report">15</a>
                                    <a ng-click="getData(selectedProfile,30)" class="btn btn-small white red-text" title="Last 30 days report">30</a>
                                    <a ng-click="getData(selectedProfile,60)" class="btn btn-small white red-text" title="Last 60 days report">60</a>
                                    <a ng-click="getData(selectedProfile,90)" class="btn btn-small white red-text" title="Last 90 days report">90</a>
                                    <a ng-click="getData(selectedProfile,90)" class="btn btn-small white red-text" title="Last 90 days report">All</a>
                                </div>
                            </div>
                        </div>
                    </h5>
                    <div class="col l12 m12 s12">
                        <div class="row no-space">
                            <div class="col s12">
                                <ul class="tabs">
                                    <li class="tab col s3"><a class="active" href="#AllPost">All Post</a></li>
                                    <li class="tab col s3"><a href="#Web">Web</a></li>
                                </ul>
                            </div>
                            <div id="AllPost" class="col s12">
                                <ul class="collection gplusfeeds">
                                    <h5 ng-if="noMentionsData==true" class="center grey-text ng-scope" style=""><span><img style="width: 60px" src="http://i.imgur.com/0MjybMu.png"></span><br>Sorry, No blogs found<br></h5>
                                    <li class="collection-item avatar" ng-repeat="post in TwitterMentionReports">
                                        <img src="{{post.fromImageUrl}}" alt="{{post.fromName}}" class="circle">
                                        <span class="email-title">{{post.fromName}}</span>
                                        <div class="row feeds_post z-depth-1 hoverable">
                                            <div class="col m8">
                                                <p class="break_word ultra-small">{{post.feed}}.</p>
                                            </div>

                                        </div>
                                        <a class="tooltipped secondary-content" data-position="left" data-tooltip="09">{{post.feeddate}}</a>
                                    </li>
                                </ul>
                            </div>
                            <div id="Web" class="col s12">
                                <h5 ng-if="noBlogData==true" class="center grey-text ng-scope" style=""><span><img style="width: 60px" src="http://i.imgur.com/0MjybMu.png"></span><br>Sorry, No blogs found<br></h5>
                                <ul class="collection gplusfeeds">
                                    <li class="collection-item avatar" ng-repeat="webpost in ArticlesAndBlogsReports">

                                        <img src="{{webpost.videoUrl}}" alt="Chanchal Santra" class="circle">
                                        <span class="email-title">{{webpost.title}}</span>
                                        <div class="row feeds_post z-depth-1 hoverable">
                                            <div class="col m8">
                                                <p class="break_word ultra-small">{{webpost.description}}</p>
                                            </div>
                                        </div>
                                        <!--<a class="tooltipped secondary-content" data-position="left" data-tooltip="{{webpost.created_Time}}">{{webpost.created_Time}}</a>-->
                                    </li>
                                </ul>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Loader for google analytics report -->
    <div ng-if="fetchdatacomplete!=true">

        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

        <div class="center" ng-if="noProfile==false">
            <div class="preloader-wrapper small active">
                <div class="spinner-layer spinner-green-only">

                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
            <br />
            <h6 style="color: gray; font-size: 18px; font-family: Calibri;">Please wait for the Report data to be generated</h6>
        </div>
        
        <div class="center" ng-if="noProfile==true">
            <br />
            <h6 style="color: gray; font-size: 18px; font-family: Calibri;">You don't have any google analytics profiles</h6>
        </div>
    </div>
    <!-- End Loader for google analytics report -->

  


</div>
